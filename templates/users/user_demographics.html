<div class="bg-gray-300 bg-opacity-50 backdrop-blur-md shadow-lg rounded-xl p-6 border border-gray-300 lg:col-span-2">
    <h2 class="text-xl font-semibold text-black mb-4">User Demographics</h2>
    <div style="width: 100%; height: 300px;">
        <canvas id="userDemographicsChart"></canvas>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const ctx = document.getElementById('userDemographicsChart').getContext('2d');

        const demographicsData = {{ demographics_data|safe }};

        new Chart(ctx, {
            type: 'pie',
            data: {
                labels: demographicsData.map(item => item.name),
                datasets: [{
                    data: demographicsData.map(item => item.value),
                    backgroundColor: [
                        '#8884D8', '#82CA9D', '#FFC658', '#FF8042', '#0088FE'
                    ],
                    borderWidth: 1,
                    borderColor: '#fff'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false
    plugins: {
tooltip: {
backgroundColor: 'rgba(31, 41, 55, 0.8)',
titleColor: '#E5E7EB',
bodyColor: '#E5E7EB',
borderColor: '#4B5563',
borderWidth: 1
},
legend: {
position: 'right',
labels: {
color: 'black'
}
}
}
}
});
});
</script>